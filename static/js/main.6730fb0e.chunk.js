(window["webpackJsonpcontact-list"]=window["webpackJsonpcontact-list"]||[]).push([[0],{21:function(e,t,a){e.exports=a(46)},26:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),l=a.n(r),o=(a(26),a(4)),i=a(3),s=a(2),u=a(15),m=a.n(u),d=(a(44),a(45),function(e){var t=e.searchText,a=e.setSearchText;return c.a.createElement("div",{className:"container search"},c.a.createElement("div",{id:"form"},c.a.createElement("form",{id:"search-form",className:"col"},c.a.createElement("input",{type:"text",placeholder:"search",value:t,onChange:function(e){return a(e.target.value)}}),c.a.createElement("button",{type:"button",className:"btn-dark search",id:"search"},c.a.createElement("i",{className:"fa fa-search"})))))}),f=function(e){var t=e.contactList,a=e.searchText,r=e.deleteContact,l=e.addFromTable,o=e.sortBy,i=e.startEditingContact,u=Object(n.useState)([]),m=Object(s.a)(u,2),d=m[0],f=m[1];return Object(n.useEffect)(function(){var e=a.toLowerCase(),n=t.filter(function(t){return"".concat(t.first_name," ").toLowerCase().indexOf(e)>=0});f(n)},[t,a]),c.a.createElement("div",{className:"bd-border table-light"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",{className:"bg-light"},c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},c.a.createElement("button",{onClick:function(){return o("first_name")}},"Name")),c.a.createElement("th",{scope:"col"},c.a.createElement("button",{onClick:function(){return o("last_name")}},"Last Name")),c.a.createElement("th",{scope:"col"},c.a.createElement("button",{onClick:function(){return o("email")}},"Email")),c.a.createElement("th",{scope:"col"},"Delete"),c.a.createElement("th",{scope:"col"},"To My List"),c.a.createElement("th",{scope:"col"},"Edit"))),c.a.createElement("tbody",null,d.map(function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.first_name),c.a.createElement("td",null,e.last_name),c.a.createElement("td",null,e.email),c.a.createElement("td",null,c.a.createElement("i",{className:"fa fa-trash-o ml-3","aria-hidden":"true",onClick:function(){return r(e.id)}})),c.a.createElement("td",null,!e.isInUserList&&c.a.createElement("i",{className:"fa fa-plus-square ml-3","aria-hidden":"true",onClick:function(){return l(e.id)}}),e.isInUserList&&"added!"),c.a.createElement("td",null,c.a.createElement("i",{className:"fa fa-pencil-square yellow","aria-hidden":"true",onClick:function(){return i(e.id)}})))}))))},h=a(16),b=a(17),p=a(19),E=a(18),g=a(20);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this,e))).isNewContact=function(){return null==a.state.id},a.handleChange=function(e,t){a.setState({contact:O({},a.state.contact,Object(o.a)({},e.target.name,e.target.value)),isValid:O({},a.state.isValid,Object(o.a)({},e.target.name,t))})},a.handleSubmit=function(e){var t,n,c;e.preventDefault(),a.isNewContact()?(t=a.state.contact,n=function(e){a.props.addNewContact(e)},c=function(){alert("Something went wrong!")},fetch("https://my-json-server.typicode.com/Klarala13/contact-list-server/data",{contactObj:t,method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){n(e),console.log("Good job! u added ur contact!",e)}).catch(function(e){c(),console.error("Ooohhh, u messed up! try again buddy",e)})):(console.log(a.state.id,"id of contact being edited"),function(e,t,a){fetch("https://my-json-server.typicode.com/Klarala13/contact-list-server/data",{contactObj:e,method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(a){t(e),console.log("Good job! u updated ur contact!",e)}).catch(function(e){a(),console.error("Ohhh, u messed up! could not update",e)})}(a.state.contact,function(){a.props.updateContact(O({id:a.state.id},a.state.contact))},function(){alert("Something went wrong!")}))},a.state={id:e.contact?e.contact.id:null,contact:{first_name:e.contact?e.contact.first_name:"",last_name:e.contact?e.contact.last_name:"",email:e.contact?e.contact.email:"",gender:e.contact?e.contact.gender:""},isValid:{first_name:!!e.contact,last_name:!!e.contact,email:!!e.contact,gender:!!e.contact}},a}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state.contact,a=Object.values(this.state.isValid).includes(!1);return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"contact-form"},c.a.createElement("div",{className:"form-group p-2"},c.a.createElement("h3",{className:"text-center"},this.isNewContact()?"Add New":"Edit Existing"," Contact"),c.a.createElement("label",{htmlFor:"first_name",className:"text-left"},"Contact Name"),c.a.createElement("input",{onChange:function(t){return e.handleChange(t,t.target.value.length>=3&&t.target.value.length<=20)},type:"text",name:"first_name",value:t.first_name,className:"form-control mb-2",id:"first_name",placeholder:"First name",required:!0,autoComplete:"true"}),c.a.createElement("label",{htmlFor:"last_name",className:"text-left"},"Last Name"),c.a.createElement("input",{onChange:function(t){return e.handleChange(t,t.target.value.length>=3&&t.target.value.length<=20)},type:"text",name:"last_name",value:t.last_name,className:"form-control mb-2",id:"last_name",placeholder:"Last name",autoComplete:"true"}),c.a.createElement("label",{htmlFor:"email",className:"text-left"},"Email"),c.a.createElement("input",{onChange:function(t){return e.handleChange(t,t.target.value.length>=6&&t.target.value.includes("@"))},type:"email",name:"email",value:t.email,className:"form-control mb-2",id:"email",placeholder:"Email",required:!0}),c.a.createElement("label",{htmlFor:"gender",className:"text-left"},"Gender"),c.a.createElement("select",{className:"form-control",id:"gender",placeholder:"Gender",name:"gender",value:t.gender,required:!0,onChange:function(t){return e.handleChange(t,["Male","Female","Other"].includes(t.target.value))}},c.a.createElement("option",null,"Other"),c.a.createElement("option",null,"Male"),c.a.createElement("option",null,"Female")),c.a.createElement("div",{className:"mb-3"},c.a.createElement("button",{className:"btn btn-danger float-left",id:"submit",type:"submit",disabled:a},"Save Contact")))))}}]),t}(c.a.Component),y=function(e){var t=e.removeContactFromUserList,a=e.sortBy,n=e.contacts;return c.a.createElement("div",{className:"box"},c.a.createElement("div",{className:"user-table table-light"},c.a.createElement("h3",{className:"text-center"},"My Fav Contacts"),c.a.createElement("table",{className:"user-table table"},c.a.createElement("thead",{className:"bg-light"},c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},c.a.createElement("button",{onClick:function(){return a("first_name",n)}},"Name")),c.a.createElement("th",{scope:"col"},c.a.createElement("button",{onClick:function(){return a("last_name",n)}},"Last Name")),c.a.createElement("th",{scope:"col"},c.a.createElement("button",{onClick:function(){return a("email",n)}},"Email")),c.a.createElement("th",{scope:"col"},"Remove"))),c.a.createElement("tbody",null,n.map(function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.first_name),c.a.createElement("td",null,e.last_name),c.a.createElement("td",null,e.email),c.a.createElement("td",null,c.a.createElement("i",{className:"fa fa-trash-o ml-3","aria-hidden":"true",onClick:function(){return t(e.id)}})))})))))};function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var N=function(){var e,t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],l=a[1],u=Object(n.useState)([]),h=Object(s.a)(u,2),b=h[0],p=h[1],E=Object(n.useState)(""),g=Object(s.a)(E,2),v=g[0],O=g[1],N=Object(n.useState)(null),w=Object(s.a)(N,2),x=w[0],_=w[1];return Object(n.useEffect)(function(){m.a.get("https://my-json-server.typicode.com/Klarala13/contact-list-server/data").then(function(e){return e.data.forEach(function(e){return e.isInUserList=!1}),e.data}).then(function(e){return l(e)})},[]),c.a.createElement("div",{className:"App"},c.a.createElement("div",null,c.a.createElement("header",{className:"App-header"},c.a.createElement("h1",null,"Contact List")),c.a.createElement(d,{searchText:v,setSearchText:O}),c.a.createElement("main",null,c.a.createElement("section",{className:"col-7"},c.a.createElement(f,{contactList:r,searchText:v,deleteContact:function(e){var t=r.filter(function(t){return t.id!==e});l(t)},startEditingContact:_,sortBy:function(e){var t=Object(i.a)(r);t.sort(function(t,a){return t[e].localeCompare(a[e])}),l(t)},addFromTable:function(e){var t=r.findIndex(function(t){return t.id===e});console.log("contactIndex",t),r[t].isInUserList=!0,p([].concat(Object(i.a)(b),[r[t]]))}})),c.a.createElement("aside",null,x&&c.a.createElement(j,{contact:(e=x,(r.filter(function(t){return t.id===e})||[])[0]),updateContact:function(e){var t=r.findIndex(function(t){return t.id===e.id});console.log("new cont",e);var a=Object(i.a)(r);a[t]=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a[t],{},e),l(a),_(null)}}),!x&&c.a.createElement(j,{addNewContact:function(e){var t=[].concat(Object(i.a)(r),[e]);l(t),_(null)}}),c.a.createElement(y,{contacts:b,removeContactFromUserList:function(e){var t=b.findIndex(function(t){return t.id===e});b.splice(t,1),p(Object(i.a)(b))},sortBy:function(e){var t=Object(i.a)(b);t.sort(function(t,a){return t[e].localeCompare(a[e])}),p(t)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.6730fb0e.chunk.js.map